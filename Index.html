<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bee Themed Call Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Balsamiq Sans', cursive;
            background-color: #fefce8; /* Light cream background */
            background-image: radial-gradient(#fbbf24 1px, transparent 1px);
            background-size: 20px 20px;
            touch-action: manipulation;
        }
        .hive-container, .metric-card {
            background: white;
            border: 4px solid #ca8a04; /* Amber-700 */
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05), 0 0 0 5px #fefce8, 0 0 0 8px #ca8a04;
        }
        .btn-add {
            transition: all 0.2s ease-in-out;
            border-bottom-width: 4px;
        }
        .btn-add:active {
            transform: translateY(2px);
            border-bottom-width: 2px;
        }
        .tally-item {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 8px;
            border-radius: 8px;
            font-weight: bold;
            color: #78350f; /* Amber-900 */
        }
        
        /* --- New Beehive & Bee Styles --- */
        .beehive {
            position: relative;
            margin-bottom: 1rem;
            width: 150px;
            height: 150px;
            background-color: #FBBF24; /* amber-400 */
            border-radius: 50% 50% 35% 35% / 60% 60% 40% 40%;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2), inset 0 -5px 10px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .beehive::before {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: #1E293B; /* slate-800 */
            border-radius: 50%;
            top: 55%;
            box-shadow: inset 0 3px 5px rgba(0,0,0,0.5);
        }

        .flying-bee {
            position: absolute;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            transition: transform 1.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s 1s linear;
            z-index: 50;
        }

        .flying-bee::before,
        .flying-bee::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            background-color: rgba(226, 232, 240, 0.8);
            border-radius: 50% 50% 0 50%;
            top: -7px;
            z-index: -1;
            animation: flap 0.1s infinite alternate;
        }

        .flying-bee::before {
            left: -5px;
            transform: rotate(-30deg);
        }

        .flying-bee::after {
            right: -5px;
            transform: rotate(30deg);
            animation-delay: 0.05s;
        }
        
        @keyframes flap {
            from { transform: scaleY(1); }
            to { transform: scaleY(1.1); }
        }

        /* Bee Type Colors */
        .worker-bee { background-color: #f59e0b; } /* Dials - amber-500 */
        .buff-bee { background-color: #fb923c; }   /* Connections - orange-400 */
        .queen-bee { background-color: #fde047; }  /* Appointments - yellow-300 */

        .fly-in {
            transform: translate(var(--translateX), var(--translateY)) scale(0.5);
            opacity: 0;
        }

        .tally-icon {
            width: 24px;
            height: 24px;
            margin-right: 12px;
            border-radius: 50%;
            flex-shrink: 0;
            border: 2px solid #a16207;
        }
    </style>
</head>
<body class="bg-yellow-50 text-amber-900 p-4 sm:p-6 lg:p-8">

    <main class="max-w-7xl mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-5xl md:text-6xl font-bold text-amber-800 tracking-wider" style="text-shadow: 2px 2px 0 #fcd34d;">The Buzz Board</h1>
            <p class="text-lg md:text-xl text-amber-700 mt-2">Track your call performance and make a bee-line to success!</p>
        </header>

        <!-- Hives Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 mb-12">
            
            <!-- New List Hive -->
            <div id="new-list-hive" class="hive-container rounded-3xl p-6 flex flex-col items-center">
                <h2 class="text-3xl font-bold mb-4">New List Hive</h2>
                <div id="new-list-hive-target" class="beehive"></div>
                
                <!-- Tallies -->
                <div class="w-full space-y-3 mb-6">
                    <div class="tally-item bg-amber-100">
                        <div class="tally-icon worker-bee"></div>
                        <span>Calls Made (Dials):</span>
                        <span id="new-dials" class="ml-auto text-2xl">0</span>
                    </div>
                    <div class="tally-item bg-amber-100">
                        <div class="tally-icon buff-bee"></div>
                        <span>Connections:</span>
                        <span id="new-connections" class="ml-auto text-2xl">0</span>
                    </div>
                    <div class="tally-item bg-amber-100">
                        <div class="tally-icon queen-bee"></div>
                        <span>Appointments Set:</span>
                        <span id="new-appointments" class="ml-auto text-2xl">0</span>
                    </div>
                </div>

                <!-- Controls -->
                <div class="grid grid-cols-3 gap-3 w-full">
                    <button onclick="addBee('newList', 'dials', this)" class="btn-add bg-amber-400 border-amber-600 text-amber-900 font-bold py-2 px-4 rounded-lg hover:bg-amber-500">Add Dial</button>
                    <button onclick="addBee('newList', 'connections', this)" class="btn-add bg-orange-400 border-orange-600 text-orange-900 font-bold py-2 px-4 rounded-lg hover:bg-orange-500">Add Connection</button>
                    <button onclick="addBee('newList', 'appointments', this)" class="btn-add bg-yellow-300 border-yellow-500 text-yellow-900 font-bold py-2 px-4 rounded-lg hover:bg-yellow-400">Add Appointment</button>
                </div>
            </div>

            <!-- Reattempting List Hive -->
            <div id="reattempting-list-hive" class="hive-container rounded-3xl p-6 flex flex-col items-center">
                <h2 class="text-3xl font-bold mb-4">Reattempting Hive</h2>
                <div id="reattempting-list-hive-target" class="beehive"></div>
                
                <!-- Tallies -->
                <div class="w-full space-y-3 mb-6">
                     <div class="tally-item bg-amber-100">
                        <div class="tally-icon worker-bee"></div>
                        <span>Calls Made (Dials):</span>
                        <span id="reattempt-dials" class="ml-auto text-2xl">0</span>
                    </div>
                    <div class="tally-item bg-amber-100">
                        <div class="tally-icon buff-bee"></div>
                        <span>Connections:</span>
                        <span id="reattempt-connections" class="ml-auto text-2xl">0</span>
                    </div>
                    <div class="tally-item bg-amber-100">
                        <div class="tally-icon queen-bee"></div>
                        <span>Appointments Set:</span>
                        <span id="reattempt-appointments" class="ml-auto text-2xl">0</span>
                    </div>
                </div>

                <!-- Controls -->
                 <div class="grid grid-cols-3 gap-3 w-full">
                    <button onclick="addBee('reattemptingList', 'dials', this)" class="btn-add bg-amber-400 border-amber-600 text-amber-900 font-bold py-2 px-4 rounded-lg hover:bg-amber-500">Add Dial</button>
                    <button onclick="addBee('reattemptingList', 'connections', this)" class="btn-add bg-orange-400 border-orange-600 text-orange-900 font-bold py-2 px-4 rounded-lg hover:bg-orange-500">Add Connection</button>
                    <button onclick="addBee('reattemptingList', 'appointments', this)" class="btn-add bg-yellow-300 border-yellow-500 text-yellow-900 font-bold py-2 px-4 rounded-lg hover:bg-yellow-400">Add Appointment</button>
                </div>
            </div>
        </div>

        <!-- Tier 2 Metric Shower -->
        <div class="text-center mb-10">
            <h2 class="text-4xl font-bold text-amber-800">Metric Shower</h2>
            <p class="text-lg text-amber-700 mt-1">Key effectiveness and efficiency ratios.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Dial-to-Connection Rate -->
            <div class="metric-card rounded-2xl p-6 text-center">
                <h3 class="text-xl font-bold mb-2">Dial-to-Connection Rate</h3>
                <p class="text-base text-amber-600 mb-4">(Connections / Dials)</p>
                <div class="flex justify-around">
                    <div>
                        <p class="font-bold">New</p>
                        <p id="metric-dc-new" class="text-4xl font-bold text-sky-600">0.0%</p>
                    </div>
                    <div>
                        <p class="font-bold">Reattempt</p>
                        <p id="metric-dc-reattempt" class="text-4xl font-bold text-teal-600">0.0%</p>
                    </div>
                </div>
            </div>
             <!-- Connection-to-Appointment Rate -->
            <div class="metric-card rounded-2xl p-6 text-center">
                <h3 class="text-xl font-bold mb-2">Connection-to-Appointment</h3>
                <p class="text-base text-amber-600 mb-4">(Appointments / Connections)</p>
                 <div class="flex justify-around">
                    <div>
                        <p class="font-bold">New</p>
                        <p id="metric-ca-new" class="text-4xl font-bold text-sky-600">0.0%</p>
                    </div>
                    <div>
                        <p class="font-bold">Reattempt</p>
                        <p id="metric-ca-reattempt" class="text-4xl font-bold text-teal-600">0.0%</p>
                    </div>
                </div>
            </div>
            <!-- Dial-to-Appointment Rate -->
            <div class="metric-card rounded-2xl p-6 text-center md:col-span-2 lg:col-span-1">
                <h3 class="text-xl font-bold mb-2">Dial-to-Appointment Rate</h3>
                <p class="text-base text-amber-600 mb-4">(Appointments / Dials)</p>
                <div class="flex justify-around">
                    <div>
                        <p class="font-bold">New</p>
                        <p id="metric-da-new" class="text-4xl font-bold text-sky-600">0.0%</p>
                    </div>
                    <div>
                        <p class="font-bold">Reattempt</p>
                        <p id="metric-da-reattempt" class="text-4xl font-bold text-teal-600">0.0%</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        const state = {
            newList: { dials: 0, connections: 0, appointments: 0 },
            reattemptingList: { dials: 0, connections: 0, appointments: 0 }
        };

        const beeTypeToClass = {
            dials: 'worker-bee',
            connections: 'buff-bee',
            appointments: 'queen-bee'
        };

        function addBee(listType, beeType, buttonElement) {
            // 1. Update state
            state[listType][beeType]++;

            // 2. Create and animate the bee
            const bee = document.createElement('div');
            bee.className = 'flying-bee';
            bee.classList.add(beeTypeToClass[beeType]);
            
            const startRect = buttonElement.getBoundingClientRect();
            bee.style.left = `${startRect.left + window.scrollX + (startRect.width / 2) - 14}px`;
            bee.style.top = `${startRect.top + window.scrollY + (startRect.height / 2) - 14}px`;

            const hiveEl = document.getElementById(listType === 'newList' ? 'new-list-hive-target' : 'reattempting-list-hive-target');
            const hiveRect = hiveEl.getBoundingClientRect();
            
            // Target the hive's entrance (center of the dark circle)
            const destinationX = hiveRect.left + window.scrollX + (hiveRect.width / 2);
            const destinationY = hiveRect.top + window.scrollY + (hiveRect.height * 0.6); // ~60% down the hive

            const startX = startRect.left + window.scrollX + startRect.width / 2;
            const startY = startRect.top + window.scrollY + startRect.height / 2;

            const translateX = destinationX - startX;
            const translateY = destinationY - startY;

            bee.style.setProperty('--translateX', `${translateX}px`);
            bee.style.setProperty('--translateY', `${translateY}px`);
            
            document.body.appendChild(bee);

            // Add a tiny delay to ensure the browser registers the element before adding the animation class
            requestAnimationFrame(() => {
                bee.classList.add('fly-in');
            });

            // After the transition ends, remove the bee
            bee.addEventListener('transitionend', () => {
                bee.remove();
            }, { once: true });

            // 3. Update displays
            updateTallies();
            updateMetrics();
        }

        function updateTallies() {
            document.getElementById('new-dials').textContent = state.newList.dials;
            document.getElementById('new-connections').textContent = state.newList.connections;
            document.getElementById('new-appointments').textContent = state.newList.appointments;

            document.getElementById('reattempt-dials').textContent = state.reattemptingList.dials;
            document.getElementById('reattempt-connections').textContent = state.reattemptingList.connections;
            document.getElementById('reattempt-appointments').textContent = state.reattemptingList.appointments;
        }

        function calculateRate(numerator, denominator) {
            if (denominator === 0) {
                return '0.0%';
            }
            return ((numerator / denominator) * 100).toFixed(1) + '%';
        }

        function updateMetrics() {
            // New List Metrics
            const nl = state.newList;
            document.getElementById('metric-dc-new').textContent = calculateRate(nl.connections, nl.dials);
            document.getElementById('metric-ca-new').textContent = calculateRate(nl.appointments, nl.connections);
            document.getElementById('metric-da-new').textContent = calculateRate(nl.appointments, nl.dials);

            // Reattempting List Metrics
            const rl = state.reattemptingList;
            document.getElementById('metric-dc-reattempt').textContent = calculateRate(rl.connections, rl.dials);
            document.getElementById('metric-ca-reattempt').textContent = calculateRate(rl.appointments, rl.connections);
            document.getElementById('metric-da-reattempt').textContent = calculateRate(rl.appointments, rl.dials);
        }

        // Initial render
        window.onload = () => {
            updateTallies();
            updateMetrics();
        }
    </script>
</body>
</html>




